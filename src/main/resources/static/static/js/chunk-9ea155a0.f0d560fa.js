(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ea155a0"],{15:function(e,a){},16:function(e,a){},17:function(e,a){},"2b66":function(e,a,t){"use strict";t.d(a,"b",(function(){return o})),t.d(a,"a",(function(){return c}));var l=t("53ca"),r=(t("c19f"),t("ace4"),t("d3b7"),t("5cc6"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),t("2b3d"),t("3ca3"),t("ddb0"),t("1146")),n=t.n(r);function o(e,a){a=a||"sheet1";var t={SheetNames:[a],Sheets:{}};t.Sheets[a]=e;var l={bookType:"xlsx",bookSST:!1,type:"binary"},r=n.a.write(t,l),o=new Blob([c(r)],{type:"application/octet-stream"});function c(e){for(var a=new ArrayBuffer(e.length),t=new Uint8Array(a),l=0;l!=e.length;++l)t[l]=255&e.charCodeAt(l);return a}return o}function c(e,a){"object"===Object(l["a"])(e)&&e instanceof Blob&&(e=URL.createObjectURL(e));var t,r=document.createElement("a");r.href=e,r.download=a||"",window.MouseEvent?t=new MouseEvent("click"):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null)),r.dispatchEvent(t)}},"2efc":function(e,a,t){"use strict";t.d(a,"c",(function(){return r})),t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return o})),t.d(a,"d",(function(){return c}));var l=t("b775");function r(e){return Object(l["a"])({url:"/api/incometax/generate",method:"post",params:{token:e}})}function n(e){return Object(l["a"])({url:"/api/salary/generatenext",method:"post",params:{token:e}})}function o(e){return Object(l["a"])({url:"/api/salary/deletelast",method:"post",params:{token:e}})}function c(e,a,t,r){return Object(l["a"])({url:"/api/salary/search",method:"get",params:{condition:e,pageNum:a,pageSize:t,token:r}})}},bc76:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchFromData}},[t("el-form-item",{attrs:{prop:"yearOnly",label:"选择年份",size:"medium"}},[t("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"year",size:"small",clearable:"",placeholder:"选择年","value-format":"yyyy"},model:{value:e.searchFromData.yearOnly,callback:function(a){e.$set(e.searchFromData,"yearOnly",a)},expression:"searchFromData.yearOnly"}})],1),t("el-form-item",{attrs:{prop:"onlyMonth",label:"选择月份",size:"medium"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchFromData.onlyMonth,callback:function(a){e.$set(e.searchFromData,"onlyMonth",a)},expression:"searchFromData.onlyMonth"}},e._l(e.monthOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.search}},[e._v("查找")]),t("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:function(a){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1),t("el-row",[t("el-button",{attrs:{plain:"",type:"warning",icon:"el-icon-document",size:"mini"},on:{click:e.handleDownload}},[e._v("导出当前页")]),t("el-button",{attrs:{plain:"",disabled:!1,type:"danger",icon:"el-icon-document",size:"mini"},on:{click:e.handleDownloadAll}},[e._v("导出所有页")])],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%",margin:"15px auto"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.7)",data:e.tableData,"tooltip-effect":"dark","header-cell-style":{background:"#EBEEF5",color:"#606266",textAlign:"center"},"cell-style":{textAlign:"center"},border:"","highlight-current-row":"","show-header":""}},[t("el-table-column",{attrs:{prop:"emp_id",label:"员工编号",width:"80"}}),t("el-table-column",{attrs:{prop:"emp_name",label:"员工姓名"}}),t("el-table-column",{attrs:{prop:"salary_year",label:"年份"}}),t("el-table-column",{attrs:{prop:"salary_month",label:"月份",width:"60"}}),t("el-table-column",{attrs:{label:"应发工资"}},[t("el-table-column",{attrs:{label:"基本工资",prop:"base_salary"}}),t("el-table-column",{attrs:{label:"岗位工资",prop:"post_salary"}})],1),t("el-table-column",{attrs:{label:"专项扣除"}},[t("el-table-column",{attrs:{label:"养老保险",prop:"per_old"}}),t("el-table-column",{attrs:{label:"医疗保险",prop:"per_medical"}}),t("el-table-column",{attrs:{label:"失业保险",prop:"per_fire"}}),t("el-table-column",{attrs:{label:"住房公积金",prop:"per_house"}})],1),t("el-table-column",{attrs:{label:"专项附加扣除"}},[t("el-table-column",{attrs:{label:"子女教育",prop:"child_edu"}}),t("el-table-column",{attrs:{label:"继续教育",prop:"continue_edu"}}),t("el-table-column",{attrs:{label:"住房租金",prop:"rent"}}),t("el-table-column",{attrs:{label:"住房贷款利息",prop:"credit"}}),t("el-table-column",{attrs:{label:"赡养老人",prop:"old_man"}}),t("el-table-column",{attrs:{label:"大病医疗",prop:"big_sick"}})],1),t("el-table-column",{attrs:{label:"应纳税所得额",prop:"taxable_income"}}),t("el-table-column",{attrs:{label:"个人所得税",prop:"tax_money"}}),t("el-table-column",{attrs:{label:"实发工资",prop:"real_salary"}})],1),[t("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total,"current-page":e.listQuery.pageNum,"page-size":e.listQuery.pageSize,"page-sizes":[5,10,20,30,50]},on:{"update:currentPage":function(a){return e.$set(e.listQuery,"pageNum",a)},"update:current-page":function(a){return e.$set(e.listQuery,"pageNum",a)},"update:pageSize":function(a){return e.$set(e.listQuery,"pageSize",a)},"update:page-size":function(a){return e.$set(e.listQuery,"pageSize",a)},"current-change":e.pageChange,"size-change":e.sizeChange}})]],2)},r=[],n=(t("841c"),t("ac1f"),t("d81d"),t("d3b7"),t("2efc")),o=t("1146"),c=t.n(o),s=t("2b66"),i={name:"Special",data:function(){return{listQuery:{total:0,pageNum:1,pageSize:10},tableData:[],searchFromData:{yearOnly:void 0,onlyMonth:void 0},total:void 0,loading:!1,searchChange:!1,monthOptions:[{value:"1",label:"一月"},{value:"2",label:"二月"},{value:"3",label:"三月"},{value:"4",label:"四月"},{value:"5",label:"五月"},{value:"6",label:"六月"},{value:"7",label:"七月"},{value:"8",label:"八月"},{value:"9",label:"九月"},{value:"10",label:"十月"},{value:"11",label:"十一月"},{value:"12",label:"十二月"}]}},watch:{searchFromData:{handler:function(){this.searchChange=!0},deep:!0}},created:function(){var e=this;this.getSalaryList(this.listQuery.pageNum,this.listQuery.pageSize),Object(n["d"])({},this.listQuery.pageNum,this.listQuery.pageSize,this.$store.getters.token).then((function(a){e.total=a.data.total}))},methods:{search:function(){var e=this,a={};this.searchFromData.yearOnly&&(a["yearOnly"]=this.searchFromData.yearOnly),this.searchFromData.onlyMonth&&(a["onlyMonth"]=this.searchFromData.onlyMonth),this.loading=!0,this.searchChange&&(this.listQuery.pageNum=1,this.searchChange=!1),Object(n["d"])(a,this.listQuery.pageNum,this.listQuery.pageSize,this.$store.getters.token).then((function(a){e.tableData=a.data.list,e.listQuery.total=a.data.total,e.loading=!1})).catch((function(){e.loading=!1}))},getSalaryList:function(e,a){this.search(e,a)},pageChange:function(){this.getSalaryList(this.listQuery.pageNum,this.listQuery.pageSize)},sizeChange:function(e){this.getSalaryList(1,e)},objectToArray:function(e){for(var a=[],t=0,l=["emp_id","emp_name","salary_year","salary_month","base_salary","post_salary","per_old","per_medical","per_fire","per_house","child_edu","continue_edu","rent","credit","old_man","big_sick","taxable_income","tax_money","real_salary"],r=0,n=l;r<n.length;r++){var o=n[r];a[t++]=e[o]?e[o]:""}return a},formatJson:function(e){var a=this;return e.map((function(e){return a.objectToArray(e)}))},handleDownload:function(){var e=this.formatJson(this.tableData);e.unshift(["员工编号","员工姓名","年份","月份","应发工资",null,"专项扣除",null,null,null,"专项附加扣除",null,null,null,null,null,"应纳税所得额","个人所得税","实发工资"],[null,null,null,null,"基本工资","岗位工资","养老保险","医疗保险","失业保险","住房公积金","子女教育","继续教育","住房租金","住房贷款利息","赡养老人","大病医疗",null,null,null]);var a=c.a.utils.aoa_to_sheet(e);a["!merges"]=[{s:{r:0,c:0},e:{r:1,c:0}},{s:{r:0,c:1},e:{r:1,c:1}},{s:{r:0,c:2},e:{r:1,c:2}},{s:{r:0,c:3},e:{r:1,c:3}},{s:{r:0,c:4},e:{r:0,c:5}},{s:{r:0,c:6},e:{r:0,c:9}},{s:{r:0,c:10},e:{r:0,c:15}},{s:{r:0,c:16},e:{r:1,c:16}},{s:{r:0,c:17},e:{r:1,c:17}},{s:{r:0,c:18},e:{r:1,c:18}}],Object(s["a"])(Object(s["b"])(a),"salary-page.xlsx")},handleDownloadAll:function(){var e=this,a=[];new Promise((function(t,l){var r={};e.searchFromData.empId&&(r["empId"]=e.searchFromData.empId),e.searchFromData.empName&&(r["empName"]=e.searchFromData.empName),e.searchFromData.yearOnly&&(r["yearOnly"]=e.searchFromData.yearOnly),e.searchFromData.onlyMonth&&(r["onlyMonth"]=e.searchFromData.onlyMonth),Object(n["d"])(r,1,e.total,e.$store.getters.token).then((function(e){a=e.data.list,t()})).catch((function(e){console.log(e),l()}))})).then((function(){var t=e.formatJson(a);t.unshift(["员工编号","员工姓名","年份","月份","应发工资",null,"专项扣除",null,null,null,"专项附加扣除",null,null,null,null,null,"应纳税所得额","个人所得税","实发工资"],[null,null,null,null,"基本工资","岗位工资","养老保险","医疗保险","失业保险","住房公积金","子女教育","继续教育","住房租金","住房贷款利息","赡养老人","大病医疗",null,null,null]);var l=c.a.utils.aoa_to_sheet(t);l["!merges"]=[{s:{r:0,c:0},e:{r:1,c:0}},{s:{r:0,c:1},e:{r:1,c:1}},{s:{r:0,c:2},e:{r:1,c:2}},{s:{r:0,c:3},e:{r:1,c:3}},{s:{r:0,c:4},e:{r:0,c:5}},{s:{r:0,c:6},e:{r:0,c:9}},{s:{r:0,c:10},e:{r:0,c:15}},{s:{r:0,c:16},e:{r:1,c:16}},{s:{r:0,c:17},e:{r:1,c:17}},{s:{r:0,c:18},e:{r:1,c:18}}],Object(s["a"])(Object(s["b"])(l),"salary-all.xlsx")}))},resetForm:function(e){this.$refs[e].resetFields()}}},u=i,p=t("2877"),m=Object(p["a"])(u,l,r,!1,null,"653a916c",null);a["default"]=m.exports}}]);